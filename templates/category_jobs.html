{% extends "base.html" %}
{% block content %}

<div style="max-width:1200px; margin:40px auto; padding:0 10px;">

  <h2 style="text-align:center; margin-bottom:20px; color:#1e3a8a; font-weight:700;">
    Jobs in "{{ category }}"
  </h2>

  <!-- Back Button -->
  <div style="text-align:center; margin-bottom:25px;">
    <a href="{{ url_for('index') }}"
       style="padding:10px 18px; background:#2563eb; color:white;
              border-radius:6px; text-decoration:none; font-weight:600;">
      ← Back to All Jobs
    </a>
  </div>

  <!-- Jobs Grid -->
  <div class="job-grid">
    {% if jobs.items %}
      {% for job in jobs.items %}
        <div class="job-card">

          <h3 class="job-title">{{ job.title }}</h3>

          <p class="job-info"><strong>Location:</strong> {{ job.location }}</p>
          <p class="job-info"><strong>Salary:</strong> {{ job.salary }}</p>

          <p class="job-desc">
            {{ job.description[:130] }}{% if job.description|length > 130 %}…{% endif %}
          </p>

          <a href="{{ url_for('job_details', job_id=job.id) }}" class="btn-view">
            View Details
          </a>
        </div>
      {% endfor %}
    {% else %}
      <p style="text-align:center; color:#6b7280; margin-top:20px;">
        No jobs found in this category.
      </p>
    {% endif %}
  </div>
</div>

<!-- Styles -->
<style>
  .job-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
  }

  .job-card {
    background: #ffffff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: 0.25s ease;
  }

  .job-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 22px rgba(0,0,0,0.15);
  }

  .job-title {
    font-size: 20px;
    font-weight: 700;
    color: #1e3a8a;
    margin-bottom: 10px;
  }

  .job-info {
    color: #374151;
    margin-bottom: 6px;
    font-size: 14px;
  }

  .job-desc {
    color: #6b7280;
    margin-top: 10px;
    margin-bottom: 15px;
    font-size: 14px;
  }

  .btn-view {
    background: #2563eb;
    color: white;
    padding: 10px 14px;
    border-radius: 8px;
    text-decoration: none;
    font-size: 14px;
    font-weight: 600;
    display: inline-block;
    transition: 0.25s;
  }

  .btn-view:hover {
    background: #1e40af;
  }
</style>

{% endblock %}